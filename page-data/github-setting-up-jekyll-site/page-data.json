{"componentChunkName":"component---src-templates-blog-post-js","path":"/github-setting-up-jekyll-site/","result":{"data":{"site":{"siteMetadata":{"title":"Traverse"}},"markdownRemark":{"id":"adb5ea05-f5ce-574d-8b48-8a82d90337b0","excerpt":"GitHub 原本就支援使用 Jekyll 建置網站，無需上傳 Jekyll 開發過程所產生的靜態網頁，只要在本地端將網站開發完成，將設定檔、sass 樣式表和一些 HTML 的模版上傳到 GitHub repository 就會自動編譯產生靜態網頁內容。 環境建置 如果要在本地端開發 Jekyll…","html":"<p><a href=\"https://github.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub</a> 原本就支援使用 <a href=\"http://jekyllrb.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jekyll</a> 建置網站，無需上傳 Jekyll 開發過程所產生的靜態網頁，只要在本地端將網站開發完成，將設定檔、sass 樣式表和一些 HTML 的模版上傳到 GitHub repository 就會自動編譯產生靜態網頁內容。</p>\n<!-- more -->\n<h2 id=\"環境建置\" style=\"position:relative;\"><a href=\"#%E7%92%B0%E5%A2%83%E5%BB%BA%E7%BD%AE\" aria-label=\"環境建置 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>環境建置</h2>\n<p>如果要在本地端開發 Jekyll 架構的網站，首先要有 ruby 環境<br>\nMac OS 本身已有 ruby 環境，只需要確認 ruby 版本為 2.0 以上<br>\n可用 <code class=\"language-text\">ruby -v</code> 指令檢查目前 ruby 版本<br>\n之後用 ruby 的 gem 安裝 jekyll <code class=\"language-text\">gem install jekyll</code><br>\n接下來就可以用 jekyll 指令 <code class=\"language-text\">jekyll new my-site</code>，簡單地新增一個網站。<br>\n<code class=\"language-text\">cd my-site</code> 目錄下打 <code class=\"language-text\">jekyll serve</code><br>\n前往 <code class=\"language-text\">http://127.0.0.1:4000/</code> 看到目前網站的畫面</p>\n<h2 id=\"比-gem-更好用的套件管理工具\" style=\"position:relative;\"><a href=\"#%E6%AF%94-gem-%E6%9B%B4%E5%A5%BD%E7%94%A8%E7%9A%84%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7\" aria-label=\"比 gem 更好用的套件管理工具 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>比 gem 更好用的套件管理工具</h2>\n<p>因為 gem 沒有像 nodejs 的 npm 一樣，可透過 <code class=\"language-text\">npm init</code> 指令自動建立一個 package.json 套件清單的檔案。<br>\n我改用 ruby 另一個套件管理工具 <a href=\"http://bundler.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">bundler</a> 讓我可以方便管理 ruby 安裝的套件。<br></p>\n<p>一樣先用 gem 安裝 bundler <code class=\"language-text\">gem install bundler</code> <br>\n再到 my-site 根目錄下打 <code class=\"language-text\">bundle init</code> 就會自動建立一個 Gemfile 套件清單的檔案<br>\n之後安裝套件只要在 Gemfile 下面加一行 <code class=\"language-text\">gem [gemname]</code> 來安裝套件<br></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token comment\"># A sample Gemfile</span>\nsource <span class=\"token string-literal\"><span class=\"token string\">\"https://rubygems.org\"</span></span>\n\ngem <span class=\"token string-literal\"><span class=\"token string\">'kramdown'</span></span></code></pre></div>\n<h2 id=\"jekyll-x-livereload-快速開發\" style=\"position:relative;\"><a href=\"#jekyll-x-livereload-%E5%BF%AB%E9%80%9F%E9%96%8B%E7%99%BC\" aria-label=\"jekyll x livereload 快速開發 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jekyll x Livereload 快速開發</h2>\n<p>透過 <code class=\"language-text\">jekyll serve -w</code> 指令，Jekyll 本身就支援 web hosting 和監看檔案變更，即時編譯新的網頁內容</p>\n<p>但是因為先前有用 Google Chrome 的 <a href=\"https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">livereload</a> 搭配 gulp 開發網頁的流暢經驗</p>\n<p>所以我找到 ruby 另外一個 <a href=\"http://guardgem.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">guard</a> 的工具</p>\n<p>guard 同時支援 jekyll 和 livereload 這兩個功能</p>\n<p>先在 Gemfile 裡面加入這三個主要的套件：</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">gem <span class=\"token string-literal\"><span class=\"token string\">'guard'</span></span>\ngem <span class=\"token string-literal\"><span class=\"token string\">'guard-jekyll-plus'</span></span>\ngem <span class=\"token string-literal\"><span class=\"token string\">'guard-livereload'</span></span></code></pre></div>\n<p>再執行 <code class=\"language-text\">bundle install</code> 就會把它所有的 dependencies 一起安裝進來</p>\n<p>然後在 my-site 根目錄底下新增一個 Guardfile</p>\n<div class=\"gatsby-code-title\">guardfile</div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">guard <span class=\"token string-literal\"><span class=\"token string\">'jekyll-plus'</span></span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:serve</span> <span class=\"token operator\">=></span> <span class=\"token boolean\">true</span> <span class=\"token keyword\">do</span>\n  watch <span class=\"token regex-literal\"><span class=\"token regex\">/.*/</span></span>\n  ignore <span class=\"token regex-literal\"><span class=\"token regex\">/^_site/</span></span>\n<span class=\"token keyword\">end</span>\n\nguard <span class=\"token string-literal\"><span class=\"token string\">'livereload'</span></span> <span class=\"token keyword\">do</span>\n  watch <span class=\"token regex-literal\"><span class=\"token regex\">/.*/</span></span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>之後不再使用 jekyll 指令，改打 <code class=\"language-text\">guard</code> 或 <code class=\"language-text\">bundle exec guard</code> 就可以監看檔案變更同時，自動重新整理背後的瀏覽器網頁</p>\n<h2 id=\"增加網頁圖示\" style=\"position:relative;\"><a href=\"#%E5%A2%9E%E5%8A%A0%E7%B6%B2%E9%A0%81%E5%9C%96%E7%A4%BA\" aria-label=\"增加網頁圖示 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>增加網頁圖示</h2>\n<p>因為 <code class=\"language-text\">jekyll new my-site</code> 預設只提供 github 和 twitter 兩個 svg 圖示<br>\n後來我在 _includes/head.html 裡面增加 <a href=\"https://fortawesome.github.io/Font-Awesome/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">font-awesome</a> 的 CSS</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>之後就有很多免費的 icon fonts 可以使用了</p>\n<h2 id=\"附註\" style=\"position:relative;\"><a href=\"#%E9%99%84%E8%A8%BB\" aria-label=\"附註 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>附註</h2>\n<p>一般使用 Jekyll 進行開發，執行 <code class=\"language-text\">jekyll serve</code> 等指令，中途要停止只要按 ctrl + c</p>\n<p>但是如果用 guard 進行開發，按 ctrl + c 不會終止程序，只會不斷印 <code class=\"language-text\">[1] guard(main)></code></p>\n<p>這時候會試著按 ctrl + z 終止程序，終端機印出 <code class=\"language-text\">[1]+  Stopped  guard</code> 並回到目錄指令列模式，感覺是停止了，但是下次再執行<code class=\"language-text\">guard</code>，重複個幾次以後，會發現程序根本沒有停止，最後就會像這樣…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin: initial;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.22222222222221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoUlEQVQ4y52SzW7TQBDHF4H4eps+A0/AmScAxL31JVUlROM0PvQGOXDgLUhzQD20BdKIxKka23E2aUvTOP6IP2p7d+1Bs5BA1Z6wNJ7xfz0//2e9BEydnDebz37on7dOhtb6yBwqQ3OodNodRe/qSvtbW9n/sq8cHRwpx9+PlQmdKLZlK0PTVvrGROmd0g19MK50euYLACAEb4et1kfL6gMdj2FCx3A+OYdWswV7zT3odXvQ1/syD04HYAwMME4NME0bOic2WJMZTKY+HByfdAkhDyWwq+sfHMeD6+s0Y4zxPM85XkEQ8DAM+Xzu8iiKeJIk8tlxZpzSMZ85Ds9zljPGYTqdHhJCnkogpaOG53oQxzFyIM9zwLxYLCBJEpjP51LDWhSF1G17JDPnXAgh4Orq6ish5IkEDofDhu/52MA5Y7KZMSYb4jgGZ+ZAlmUSiHoQBEApleuMMYEfn06nN4Gehw4TzjlbOcRGBM5mM0jTTNaoe54LhmHIdXR4C2jbdsNx5hBFN0fGhiiKJBAdLoG+74Nt24Am7gSaptnIshyb8IfAMhCCepqm8K+Ogdof/TbQsqxGWZbAOZMOcZ9kcCEzakv9jloURXHzp/R6vQaOhscENxrrKAwhDnwIw1COjuOh7rnuaiuCYIHjC6wppX+B7Xb7veu6cDY5y0YjKoqyENl1KmbUEaIUImO5iNNElADi4uJCLMIQXSFIXP68zPFYGYZxuAJ2u91PSye4b3gVZQlxkgILMygSBjxikPsZFLyQ61D+Tvg+TjUajfTVwa5UKs81TdtVVXWnXq9r1WpVq+3UtJ2qqm2+2dAqrzHWtc1X69q7rbeaWqtpqqrKqFar9Vqttru9vf2SEPKIFEVBCCH3CSGPpeX/jwdra2v3fgGeCHMnrhX5UAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ruby guard processes\"\n        title=\"ruby guard processes\"\n        src=\"/traverse/static/a39068c09c265b23c964f96cafed490c/37523/ruby_guard_processes.png\"\n        srcset=\"/traverse/static/a39068c09c265b23c964f96cafed490c/e9ff0/ruby_guard_processes.png 180w,\n/traverse/static/a39068c09c265b23c964f96cafed490c/f21e7/ruby_guard_processes.png 360w,\n/traverse/static/a39068c09c265b23c964f96cafed490c/37523/ruby_guard_processes.png 720w,\n/traverse/static/a39068c09c265b23c964f96cafed490c/9d76a/ruby_guard_processes.png 829w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>正確終止 guard 程序的方法是輸入指令： <code class=\"language-text\">[1] guard(main)> e</code> 或 <code class=\"language-text\">[1] guard(main)> exit</code></p>\n<h2 id=\"參考\" style=\"position:relative;\"><a href=\"#%E5%8F%83%E8%80%83\" aria-label=\"參考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>參考</h2>\n<p><a href=\"http://jekyllrb.com/docs/home/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jekyll - Documentation</a><br>\n<a href=\"https://help.github.com/articles/creating-pages-with-the-automatic-generator/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Creating Pages with the automatic generator</a><br>\n<a href=\"http://dan.doezema.com/2014/01/setting-up-livereload-with-jekyll/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Setting Up LiveReload With Jekyll</a><br>\n<a href=\"https://github.com/guard/guard/wiki/Interacting-with-Guard\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Interacting with Guard</a><br></p>","frontmatter":{"title":"GitHub 架設 Jekyll 網站","date":"December 04, 2015","description":"入門教學用 Github 當伺服器架設 blog 部落格","tags":["gettingStarted","jekyll","bundler","ruby"],"donation":true}},"previous":null,"next":{"fields":{"slug":"/mac-using-homebrew-install-mariadb/"},"frontmatter":{"title":"Mac 用 Homebrew 安裝 MariaDB"}}},"pageContext":{"id":"adb5ea05-f5ce-574d-8b48-8a82d90337b0","previousPostId":null,"nextPostId":"7062f5b0-0302-5860-98b7-84162f2ad67f"}},"staticQueryHashes":["2841359383"]}